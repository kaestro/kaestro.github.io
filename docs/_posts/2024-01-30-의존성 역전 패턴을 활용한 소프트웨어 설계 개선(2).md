---
layout: default
classes: wide
title: "의존성 역전 패턴을 활용한 소프트웨어 설계 개선(2)"
date: 2024-01-30
categories: Writing SOFTWARE_DESIGN
---

**모듈간 의존이란**

이런 모듈간 맺을 수 있는 관계들 중 의존은 한 모듈의 정의 또는 동작이 다른 모듈에 종속되는 것을 말한다. 자동차를 예로 들어 생각해보자. 자동차는 여러 부품으로 구성돼있지만 성능을 결정하는 가장 중요한 역할을 하는 것은 바퀴와 엔진이라 할 수 있다. 엔진이 사용하는 연료가 무엇인지와 같은 엔진의 특징에 자동차라는 최상위 모듈은 동작이나 설계에서 크게 영향 받을 수 밖에 없다. 이 때 소프트웨어적인 관점에서 우리는 자동차라는 상위 모듈이 엔진이라는 하위 모듈에 의존한다고 표현할 수 있다.

**추상화를 통한 의존 vs 직접 의존**

그렇다면 추상화를 통한 의존이란 무엇인가? 마찬가지로 자동차를 가지고 설명을 해보겠다. 자동차란 무엇인지 추상적으로 표현하면 '엔진을 통해 얻은 동력'을 '바퀴에 전달해 회전시켜' 이동하는 물체라고 할 수 있을 것이다. 여기서 엔진에서 가장 핵심적인 기능을 동력이라는 추상적인 개념만 남기고, 바퀴는 동력을 전달받아 회전한다는 개념만 남긴 뒤에 자동차를 설명하는 것이 이제 상위 모듈이 하위 모듈의 추상화를 통해 의존하는 방식이다.

이에 반면 직접적인 의존은 100마력의 8기통 가솔린 엔진이 장착된, 반지름 50cm의 바퀴를 네 개 장착한 자동차를 우리가 정의했다고 하자. 이제 차이점이 보이는가? 추상화를 통한 의존을 통해 정의한 자동차는 이후에도 동일한 기능을 유지하면서도 세세한 부분들에 추가적인 업그레이드나 조정이 가능하지만, 직접적인 의존을 통해 정의한 자동차는 해당 제약 때문에 변화할 수 있는 여지가 좁아지게 된다. 이것이 추상화를 통한 의존의 힘인 것이다!

**결론**

그렇다면 이제 눈치 좋은 독자는 이제 이해할 수 있을 것이다. 그렇다 의존성 역전은 최상위 레벨의 모듈인 인터페이스에 하위 모듈을 의존하는 방식을 통해서 기존에 구현 과정에 높아진 결합성을 낮추고 유연성을 높이자는 패턴인 것이다.